#!/bin/bash

echo "================================================================================"
echo "  메뉴 통합 검증 - SignalOrchestrator L0-L6"
echo "================================================================================"
echo ""

echo "✅ 메뉴 통합 완료!"
echo ""

echo "================================================================================";
echo "  새로운 메뉴 구조"
echo "================================================================================";
echo ""
echo "  1. 🤖 자동 매매 시작 (기본 모드)"
echo "  2. 🔍 백테스트 검증 모드 (L0-L6 시그널 확인)"
echo "  3. 🚀 실전 투입 모드 (L0-L6 + 실제 매매)"
echo "  4. 📊 Ranker 학습 (Candidate Ranker)"
echo "  5. 🧪 Ranker 테스트 (예측 및 랭킹)"
echo "  6. 📈 백테스트 실행"
echo "  7. 📄 리포트 생성 (일일/주간)"
echo "  8. 💬 Telegram 알림 테스트"
echo "  9. ⚙️  시스템 설정"
echo "  h. 📚 도움말"
echo "  0. 🚪 종료"
echo ""

echo "================================================================================";
echo "  사용 방법"
echo "================================================================================";
echo ""

echo "📋 메뉴 실행:"
echo "   python3 main_menu.py"
echo ""

echo "🔍 백테스트 검증 모드 (옵션 2):"
echo "   - 메뉴에서 [2] 선택"
echo "   - 조건식 입력 (예: 0,1,2)"
echo "   - L0-L6 파이프라인 동작 확인"
echo "   - 실제 주문은 생략됨"
echo ""

echo "🚀 실전 투입 모드 (옵션 3):"
echo "   - 메뉴에서 [3] 선택"
echo "   - 'yes' 입력하여 확인"
echo "   - 조건식 입력 (예: 17,18,19,20,21,22)"
echo "   - ⚠️  실제 매매 실행!"
echo ""

echo "💻 CLI 직접 실행 (기존 방식):"
echo "   python3 main_auto_trading.py --dry-run --conditions 0,1,2"
echo "   python3 main_auto_trading.py --live --conditions 17,18,19,20,21,22"
echo ""

echo "================================================================================";
echo "  검증 체크리스트"
echo "================================================================================";
echo ""

echo "✅ 완료된 작업:"
echo "   [✓] run_dry_run_mode() 함수 구현"
echo "   [✓] run_live_mode() 함수 구현"
echo "   [✓] main() 함수 핸들러 연결"
echo "   [✓] sys.argv 조작 및 복원 로직"
echo "   [✓] 안전장치 (확인 프롬프트)"
echo "   [✓] 예외 처리 (KeyboardInterrupt, finally)"
echo ""

echo "📝 테스트 권장 순서:"
echo "   1. python3 main_menu.py"
echo "      → 메뉴 정상 표시 확인"
echo ""
echo "   2. 옵션 [2] 선택"
echo "      → 백테스트 검증 모드 진입 확인"
echo "      → 조건식 입력 프롬프트 확인"
echo ""
echo "   3. 옵션 [3] 선택"
echo "      → 확인 프롬프트 'yes' 입력 확인"
echo "      → (실제 실행은 주의!)"
echo ""

echo "================================================================================";
echo "  ✅ 메뉴 통합 완료!"
echo "================================================================================";
echo ""
echo "다음 단계:"
echo "  1. python3 main_menu.py 실행하여 메뉴 확인"
echo "  2. 백테스트 검증 모드로 L0-L6 파이프라인 테스트"
echo "  3. 월요일 실전 투입 전 최종 검증"
echo ""
