# í•˜ì´ë¸Œë¦¬ë“œ ì „ëµ (ê¶Œì¥)
# ê³µê²©ì  + ë³´ìˆ˜ì  + ë¶€ë¶„ì²­ì‚°ì˜ ì¥ì  ê²°í•©

trailing:
  activation_pct: 1.5        # ë¬¸ì„œ ëª…ì„¸: íŠ¸ë ˆì¼ë§ í™œì„±í™” +1.5%
  ratio: 1.0                 # ë¬¸ì„œ ëª…ì„¸: íŠ¸ë ˆì¼ë§ ë¹„ìœ¨ -1.0%
  stop_loss_pct: 3.0         # ë¬¸ì„œ ëª…ì„¸: ê¸°ë³¸ ì†ì ˆ -3.0%

  use_profit_tier: true      # í° ìˆ˜ìµ ì‹œ ê°•í™” âœ…
  profit_tier_threshold: 6.0 # ğŸ”§ FIX: +6% ë„ë‹¬ ì‹œ (ë¬¸ì„œ ëª…ì„¸ ë°˜ì˜)
  profit_tier_ratio: 0.5     # 0.5%ë¡œ ê°•í™”

  use_atr_based: true        # ğŸ”§ FIX: ATR ê¸°ë°˜ íŠ¸ë ˆì¼ë§ í™œì„±í™” (ë¬¸ì„œ ëª…ì„¸)
  atr_multiplier: 2.0        # ğŸ”§ FIX: ATRÃ—2 (ë¬¸ì„œ ëª…ì„¸) [ë³µì›: 1.5â†’2.0]

filters:
  use_trend_filter: true
  trend_period: 20

  use_volume_filter: true
  volume_multiplier: 1.2     # ê¸°ë³¸ê°’ ìœ ì§€

  use_breakout_confirm: false
  breakout_confirm_candles: 2

  use_volume_value_filter: false
  min_volume_value: 1000000000

  use_market_momentum: false

  use_daily_trend_filter: true

  use_volatility_filter: true   # ìœ„í—˜ ì¢…ëª© ì œì™¸ âœ…
  min_atr_pct: 0.5
  max_atr_pct: 4.5             # ë„ˆë¬´ ìœ„í—˜í•œ ì¢…ëª© ë°°ì œ

time_filter:
  use_time_filter: true        # ğŸ”§ FIX: ì¥ ì´ˆë°˜/ë§ˆê° íšŒí”¼ í™œì„±í™” (ë¬¸ì„œ ëª…ì„¸)
  market_open: "09:00"
  market_close: "15:20"
  avoid_early_minutes: 30      # ğŸ”§ FIX: 09:30ê¹Œì§€ íšŒí”¼ (ë¬¸ì„œ ëª…ì„¸) [ë³µì›: 10â†’30]
  avoid_late_minutes: 21       # ğŸ”§ FIX: 14:59ê¹Œì§€ë§Œ ì§„ì… (15:20-21=14:59) [ë³µì›: 10â†’21]

re_entry:
  use_cooldown: true           # ì¬ì§„ì… ë°©ì§€ âœ…
  cooldown_minutes: 20         # ì ì ˆí•œ ëŒ€ê¸° ì‹œê°„

risk_management:
  initial_capital: 10000000
  daily_max_loss_pct: 2.0      # ì¼ì¼ ì†ì‹¤ 2%
  max_drawdown_pct: 10.0
  max_trades_per_day: 7        # ì ì ˆí•œ ê±°ë˜ íšŸìˆ˜
  max_consecutive_losses: 3
  position_risk_pct: 1.0
  min_rr_ratio: 1.5

risk_control:
  max_daily_loss_pct: 3.0      # SignalOrchestrator L0 í•„í„°ìš© (ì¼ì¼ ì†ì‹¤ í•œë„)
  hard_stop_pct: 2.5           # ğŸ”§ FIX: ë¹„ìƒ í•˜ë“œ ìŠ¤íƒ‘ -2.5% (ê±°ë˜ ë¶„ì„ ê¸°ë°˜ ê°•í™”)
  technical_stop_pct: 1.5      # ê¸°ìˆ ì  ì†ì ˆì„  -1.5%

  # ì´ˆê¸° ì‹¤íŒ¨ ì»· (ì†ìµë¹„ ê°œì„ ì˜ í•µì‹¬)
  early_failure:
    enabled: true              # í™œì„±í™”
    window_minutes: 10         # 10ë¶„ ì´ë‚´ (ë” ë¹ ë¥´ê²Œ)
    loss_cut_pct: -0.5         # -0.5% ë„ë‹¬ ì‹œ ì¦‰ì‹œ ì»· (ë” íƒ€ì´íŠ¸í•˜ê²Œ)

partial_exit:
  enabled: true                # ë¶€ë¶„ ì²­ì‚° í•µì‹¬ ì „ëµ âœ…
  tiers:
    - profit_pct: 4.0          # ğŸ”§ FIX: 1ì°¨: +4%ì— 40% ì²­ì‚° (ë¬¸ì„œ ëª…ì„¸) [ë³µì›: 1.0â†’4.0]
      exit_ratio: 0.4
    - profit_pct: 6.0          # ğŸ”§ FIX: 2ì°¨: +6%ì— 40% ì²­ì‚° (ë¬¸ì„œ ëª…ì„¸) [ë³µì›: 2.0â†’6.0]
      exit_ratio: 0.4
    # ë‚˜ë¨¸ì§€ 20%ëŠ” ATRÃ—2 íŠ¸ë ˆì¼ë§ ìŠ¤í†±ìœ¼ë¡œ í° ìˆ˜ìµ ì¶”êµ¬ (ë¬¸ì„œ ëª…ì„¸)

trailing_stop:
  activation_profit_pct: 2.0   # +2.0% ë„ë‹¬ ì‹œ íŠ¸ë ˆì¼ë§ í™œì„±í™” [ìˆ˜ì •: 1.5â†’2.0]
  distance_pct: 1.5            # ìµœê³ ê°€ ëŒ€ë¹„ -1.5% íŠ¸ë ˆì¼ë§ [ìˆ˜ì •: 1.0â†’1.5]
  min_lock_profit_pct: 1.0     # ìµœì†Œ +1.0% ìˆ˜ìµ ë³´ì¥ [ìˆ˜ì •: 0.5â†’1.0]

vwap_exit:
  profit_threshold_for_ignore: 2.0  # +2.0% ì´ìƒì—ì„œëŠ” VWAP ë¬´ì‹œ
  multi_condition_required: true    # ë‹¤ì¤‘ ì¡°ê±´ í•„ìš” (VWAP ë‹¨ë… ì²­ì‚° ë°©ì§€)

time_based_exit:
  loss_breakeven_exit_time: "15:00:00"  # ğŸ”§ FIX: 15:00 ì „ëŸ‰ ê°•ì œ ì²­ì‚° (ë¬¸ì„œ ëª…ì„¸) [ë³µì›: 14:30â†’15:00]
  final_force_exit_time: "15:00:00"     # ğŸ”§ FIX: 15:00 ì „ëŸ‰ ê°•ì œ ì²­ì‚° (ë¬¸ì„œ ëª…ì„¸)
  loss_breakeven_threshold_pct: 0.0     # ì „ëŸ‰ ì²­ì‚°ìœ¼ë¡œ í†µì¼

logging:
  enabled: true
  log_dir: "logs"
  log_level: "INFO"

test:
  stock_symbols:
    - "005930"
    - "015760"
  data_days: 7
  interval: "5m"
