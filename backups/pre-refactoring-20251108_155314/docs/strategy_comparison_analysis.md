# 3가지 전략 비교 분석 및 보완점

## 📊 테스트 요약

**테스트 기간**: 7일 (5분봉 데이터)
**테스트 종목**: 10개 주요 종목 (삼성전자, SK하이닉스, NAVER, LG화학, 삼성SDI, 카카오, 현대차, 기아, 셀트리온, 삼성바이오로직스)
**데이터**: 각 종목 504개 봉

---

## 🥊 전략별 성과 비교

### 전체 비교표

| 지표 | 공격적 전략 | 보수적 전략 | 부분 청산 전략 |
|------|------------|------------|---------------|
| **총 거래 횟수** | 10회 | 1회 ❌ | 19회 |
| **승률** | 60.0% | 0.0% ❌ | **78.9%** 🏆 |
| **평균 수익률** | +1.15% | -1.15% ❌ | **+1.89%** 🥈 |
| **총 실현 수익** | **+455만원** 🏆 | -30만원 ❌ | +293만원 🥉 |
| **최고 거래** | +9.28% | -1.15% | +9.28% |
| **최저 거래** | -1.35% | -1.15% | -1.35% |
| **Profit Factor** | **3.38** 🏆 | 0.00 ❌ | 2.80 🥈 |
| **평균 보유시간** | 26봉 | 9봉 | 28봉 |
| **최대 낙폭** | 1083% | 0% | 365% |

---

## 🔍 전략별 상세 분석

### 1. 🔥 공격적 전략

**핵심 설정:**
- 트레일링 활성화: 1.0% (빠름)
- 트레일링 비율: 0.7% (타이트)
- 목표가 강화: 2.5%에서 0.4% 트레일링
- 재진입 대기: 10분 (짧음)
- 일일 거래: 최대 10회

**성과:**
- ✅ **최고 수익**: 455만원
- ✅ **최고 Profit Factor**: 3.38
- ✅ 적절한 거래 횟수: 10회
- ⚠️ 승률 60% (개선 여지)

**장점:**
1. **수익 극대화**: 큰 수익 잘 보존 (PF 3.38)
2. **빠른 대응**: 1% 트레일링으로 수익 빨리 보호
3. **효율적 자본 활용**: 10분 재진입으로 기회 포착

**단점:**
1. **트레일링 너무 타이트**: 0.7%로 인해 조기 청산 가능성
2. **최대 낙폭 높음**: 1083% (자본 관리 필요)
3. **승률 보통**: 60% (필터 추가 고려)

**개선 방향:**
- 트레일링 비율 0.7% → 0.8~0.9%로 완화
- 변동성 필터 추가로 승률 향상
- 포지션 사이징 조정 (낙폭 축소)

---

### 2. 🛡️ 보수적 전략

**핵심 설정:**
- 트레일링 활성화: 2.0% (늦음)
- 트레일링 비율: 1.5% (넓음)
- 시간 필터: 장 시작 후 15분, 마감 전 15분 회피 ✅
- 변동성 필터: 0.8~3.0% ✅
- 거래대금 필터: 20억원 이상 ✅
- 재진입 대기: 60분 (길음)
- 일일 거래: 최대 3회
- 부분 청산: 활성화

**성과:**
- ❌ **거래 1회만 발생** (필터 과다)
- ❌ **손실 발생**: -30만원
- ❌ 승률 0%

**문제점:**
1. **필터링 과도**: 시간 + 변동성 + 거래대금 필터로 거래 차단
2. **기회 상실**: 단 1회 거래만 발생
3. **보수성 극단화**: 60분 재진입 대기는 5분봉에 과함

**보완 필요 사항:**
1. **필터 완화**:
   - 시간 필터: 15분 → 10분으로 축소
   - 변동성 필터: 0.8~3.0% → 0.5~4.0%로 확대
   - 거래대금 필터: 20억 → 10억으로 하향

2. **재진입 대기 단축**: 60분 → 30분

3. **트레일링 조정**:
   - 활성화 2.0% → 1.5%로 하향
   - 비율 1.5% → 1.2%로 축소

**핵심 문제**:
> 보수적 전략의 의도는 좋으나, 필터가 너무 강해서 거래 기회를 거의 차단.
> **"보수적 = 거래 안함"이 아니라 "보수적 = 신중한 진입 + 안전한 청산"이어야 함**

---

### 3. 📊 부분 청산 전략

**핵심 설정:**
- 부분 청산 티어:
  - 1차: +1.2%에 40% 청산
  - 2차: +2.5%에 30% 청산
  - 3차: +4.0%에 20% 청산
  - 나머지 10%: 트레일링
- 목표가 강화: 4.0%에서 0.5% 트레일링
- 재진입 대기: 30분 (적절)

**성과:**
- ✅ **최고 승률**: 78.9%
- ✅ **안정적 수익**: 평균 +1.89%
- ✅ **거래 활발**: 19회 (부분 청산 포함)
- ⚠️ 총 수익 293만원 (공격적보다 낮음)

**장점:**
1. **높은 승률**: 78.9% (심리적 안정)
2. **위험 분산**: 단계적 이익 실현
3. **대박 기회 보존**: 10%는 트레일링으로 유지

**단점:**
1. **총 수익 낮음**: 455만원 대비 293만원 (64%)
2. **조기 청산**: 1.2%에서 40% 청산은 너무 이르다
3. **복잡성**: 19회 거래 (부분 청산 9회 포함)

**개선 방향:**
- 1차 청산 1.2% → 1.8%로 상향
- 청산 비율 조정: 40% → 30%로 축소
- 2차 청산 2.5% → 3.0%으로 상향

---

## 🎯 종합 결론

### 📌 전략별 추천 상황

**1. 공격적 전략 - 추세장/변동성 장에서 사용**
- ✅ 명확한 추세가 있을 때
- ✅ 단기 큰 수익 목표
- ✅ 리스크 감내 가능
- ❌ 횡보장에서는 비효율

**2. 보수적 전략 - 현재는 사용 불가 (개선 필요)**
- ❌ 필터 과다로 거래 차단
- ⚠️ 개선 후 횡보장/불확실한 장에서 재테스트

**3. 부분 청산 전략 - 일반적 상황에서 추천**
- ✅ 안정적 수익 선호
- ✅ 승률 중시
- ✅ 심리적 안정감 필요
- ⚠️ 큰 수익 포기 각오

---

## 🔧 각 전략 개선안

### 공격적 전략 개선안

```yaml
trailing:
  activation_pct: 1.0        # 유지
  ratio: 0.85                # 0.7 → 0.85 (덜 타이트하게)
  profit_tier_threshold: 2.5 # 유지
  profit_tier_ratio: 0.5     # 0.4 → 0.5 (덜 공격적)

filters:
  use_volatility_filter: true  # 추가
  min_atr_pct: 0.5
  max_atr_pct: 4.0           # 위험 종목 필터링

re_entry:
  cooldown_minutes: 15       # 10 → 15 (약간 보수적)

risk_management:
  max_trades_per_day: 8      # 10 → 8 (과매매 방지)
```

**기대 효과:**
- 승률 60% → 70% 상승
- 조기 청산 감소
- 위험 종목 배제

---

### 보수적 전략 개선안 (대폭 수정)

```yaml
trailing:
  activation_pct: 1.5        # 2.0 → 1.5 (덜 늦게)
  ratio: 1.2                 # 1.5 → 1.2 (덜 넓게)

filters:
  volume_multiplier: 1.3     # 1.5 → 1.3 (완화)
  use_volume_value_filter: true
  min_volume_value: 1000000000  # 20억 → 10억 (완화)
  use_volatility_filter: true
  min_atr_pct: 0.5           # 0.8 → 0.5 (완화)
  max_atr_pct: 4.0           # 3.0 → 4.0 (완화)

time_filter:
  use_time_filter: true
  avoid_early_minutes: 10    # 15 → 10 (완화)
  avoid_late_minutes: 10     # 15 → 10 (완화)

re_entry:
  cooldown_minutes: 30       # 60 → 30 (완화)

risk_management:
  max_trades_per_day: 5      # 3 → 5 (완화)

partial_exit:
  enabled: true
  tiers:
    - profit_pct: 2.0        # 1.5 → 2.0 (더 기다림)
      exit_ratio: 0.4        # 0.5 → 0.4 (덜 청산)
```

**기대 효과:**
- 거래 1회 → 5~7회 증가
- 기회 포착 증가
- 여전히 보수적이지만 실용적

---

### 부분 청산 전략 개선안

```yaml
partial_exit:
  enabled: true
  tiers:
    - profit_pct: 1.8        # 1.2 → 1.8 (더 기다림)
      exit_ratio: 0.3        # 0.4 → 0.3 (덜 청산)
    - profit_pct: 3.0        # 2.5 → 3.0 (더 기다림)
      exit_ratio: 0.3        # 유지
    - profit_pct: 5.0        # 4.0 → 5.0 (더 기다림)
      exit_ratio: 0.2        # 유지
    # 나머지 20%로 증가

trailing:
  profit_tier_threshold: 5.0 # 4.0 → 5.0 (부분 청산 후)
  profit_tier_ratio: 0.4     # 0.5 → 0.4 (더 강화)
```

**기대 효과:**
- 총 수익 293만원 → 350~400만원 증가
- 여전히 높은 승률 유지 (75%+)
- 대박 기회 증가 (20% 포지션)

---

## 💡 하이브리드 전략 제안

위 3가지 전략의 장점을 결합한 **최적 전략**:

```yaml
# 하이브리드 전략 (추천)

trailing:
  activation_pct: 1.2        # 적절한 활성화
  ratio: 0.9                 # 균형잡힌 트레일링
  use_profit_tier: true
  profit_tier_threshold: 3.5 # 큰 수익 시 강화
  profit_tier_ratio: 0.5

filters:
  use_trend_filter: true
  use_volume_filter: true
  volume_multiplier: 1.2
  use_volatility_filter: true  # 위험 종목 제외
  min_atr_pct: 0.5
  max_atr_pct: 4.5

time_filter:
  use_time_filter: false     # 5분봉에는 과함

re_entry:
  use_cooldown: true
  cooldown_minutes: 20       # 적절한 대기

risk_management:
  daily_max_loss_pct: 2.0
  max_trades_per_day: 7
  max_consecutive_losses: 3
  position_risk_pct: 1.0

partial_exit:
  enabled: true
  tiers:
    - profit_pct: 2.0        # 첫 목표 +2%
      exit_ratio: 0.3        # 30% 청산
    - profit_pct: 4.0        # 두 번째 +4%
      exit_ratio: 0.3        # 30% 청산
    # 나머지 40%는 트레일링 (큰 수익 기회)
```

**하이브리드 전략 기대 성과:**
- 총 거래: 10~15회
- 승률: 70~75%
- 평균 수익률: +1.5~2.0%
- 총 실현 수익: 400~500만원
- Profit Factor: 3.0+

---

## 📋 다음 단계 액션 아이템

### 1️⃣ 즉시 실행
- [ ] 보수적 전략 개선안으로 재테스트
- [ ] 부분 청산 전략 개선안으로 재테스트
- [ ] 하이브리드 전략 설정 파일 작성 및 테스트

### 2️⃣ 추가 테스트 필요
- [ ] 장기 백테스트 (1개월 데이터)
- [ ] 다양한 시장 상황 테스트 (상승장, 하락장, 횡보장)
- [ ] 종목군별 성과 분석 (IT, 바이오, 자동차 등)

### 3️⃣ 추가 개선 사항
- [ ] 시장 상황 자동 감지 (추세/횡보 판단)
- [ ] 전략 자동 전환 시스템
- [ ] 종목별 최적 파라미터 자동 조정
- [ ] 손절 후 진입가 대비 재진입가 필터

---

## 🏁 최종 결론

### 현재 사용 추천 순위

1. **공격적 전략** (개선 후) - 변동성 장, 추세 명확할 때
   - 수익 극대화
   - 단기 트레이딩에 적합

2. **하이브리드 전략** (신규 제안) - 일반적 상황
   - 균형잡힌 성과
   - 안정성 + 수익성

3. **부분 청산 전략** (개선 후) - 심리적 안정 중시
   - 높은 승률
   - 꾸준한 수익

4. **보수적 전략** (대폭 개선 필요) - 현재 사용 불가
   - 필터 완화 후 재테스트 필요

### 핵심 교훈

✅ **필터는 양날의 검**: 너무 많으면 기회 차단, 너무 적으면 손실 증가
✅ **트레일링 비율 중요**: 0.1% 차이가 큰 영향
✅ **부분 청산 유용**: 승률 향상 + 심리적 안정
✅ **재진입 대기 적절**: 5분봉에는 10~30분이 적당
✅ **시간 필터는 신중**: 5분봉에서는 과할 수 있음

**성공의 핵심**: 시장 상황에 맞는 전략 선택 + 지속적 모니터링 + 파라미터 최적화
